<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>Writing Installation XML Files</title>
<link rel="stylesheet" href="izpack.css" type="text/css" />
</head>
<body>
<div class="document" id="writing-installation-xml-files">
<h1 class="title">Writing Installation XML Files</h1>
<p><a class="reference" href="index.html">Go back to the documentation index</a></p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#what-you-need" id="id2" name="id2">What You Need</a><ul>
<li><a class="reference" href="#your-editor" id="id3" name="id3">Your editor</a></li>
<li><a class="reference" href="#writing-xml" id="id4" name="id4">Writing XML</a></li>
</ul>
</li>
<li><a class="reference" href="#variable-substitution" id="id5" name="id5">Variable Substitution</a></li>
<li><a class="reference" href="#the-built-in-variables" id="id6" name="id6">The Built-In Variables</a></li>
<li><a class="reference" href="#environment-variables" id="id7" name="id7">Environment Variables</a></li>
<li><a class="reference" href="#dynamic-variables" id="id8" name="id8">Dynamic Variables</a></li>
<li><a class="reference" href="#parse-types" id="id9" name="id9">Parse Types</a></li>
<li><a class="reference" href="#the-izpack-elements" id="id10" name="id10">The IzPack Elements</a><ul>
<li><a class="reference" href="#the-root-element-installation" id="id11" name="id11">The Root Element <tt class="docutils literal"><span class="pre">&lt;installation&gt;</span></tt></a></li>
<li><a class="reference" href="#the-information-element-info" id="id12" name="id12">The Information Element <tt class="docutils literal"><span class="pre">&lt;info&gt;</span></tt></a></li>
<li><a class="reference" href="#the-packaging-element-packaging" id="id13" name="id13">The Packaging Element <tt class="docutils literal"><span class="pre">&lt;packaging&gt;</span></tt></a></li>
<li><a class="reference" href="#the-variables-element-variables" id="id14" name="id14">The Variables Element <tt class="docutils literal"><span class="pre">&lt;variables&gt;</span></tt></a></li>
<li><a class="reference" href="#the-dynamic-variables-element-dynamicvariables" id="id15" name="id15">The dynamic Variables Element <tt class="docutils literal"><span class="pre">&lt;dynamicvariables&gt;</span></tt></a></li>
<li><a class="reference" href="#the-conditions-element-conditions" id="id16" name="id16">The Conditions Element <tt class="docutils literal"><span class="pre">&lt;conditions&gt;</span></tt></a></li>
<li><a class="reference" href="#the-gui-preferences-element-guiprefs" id="id17" name="id17">The GUI Preferences Element <tt class="docutils literal"><span class="pre">&lt;guiprefs&gt;</span></tt></a></li>
<li><a class="reference" href="#the-localization-element-locale" id="id18" name="id18">The Localization Element <tt class="docutils literal"><span class="pre">&lt;locale&gt;</span></tt></a></li>
<li><a class="reference" href="#the-resources-element-resources" id="id19" name="id19">The Resources Element <tt class="docutils literal"><span class="pre">&lt;resources&gt;</span></tt></a></li>
<li><a class="reference" href="#the-panels-element-panels" id="id20" name="id20">The Panels Element <tt class="docutils literal"><span class="pre">&lt;panels&gt;</span></tt></a></li>
<li><a class="reference" href="#the-packs-element-packs" id="id21" name="id21">The Packs Element <tt class="docutils literal"><span class="pre">&lt;packs&gt;</span></tt></a></li>
<li><a class="reference" href="#internationalization-of-the-packspanel" id="id22" name="id22">Internationalization of the PacksPanel</a></li>
<li><a class="reference" href="#description-pack-description" id="id23" name="id23"><tt class="docutils literal"><span class="pre">&lt;description&gt;</span></tt> - pack description</a></li>
<li><a class="reference" href="#depends-pack-dependencies" id="id24" name="id24"><tt class="docutils literal"><span class="pre">&lt;depends&gt;</span></tt> - pack dependencies</a></li>
<li><a class="reference" href="#os-os-restrictions" id="id25" name="id25"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - OS restrictions</a></li>
<li><a class="reference" href="#updatecheck" id="id26" name="id26"><tt class="docutils literal"><span class="pre">&lt;updatecheck&gt;</span></tt></a></li>
<li><a class="reference" href="#file-add-files-or-directories" id="id27" name="id27"><tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> - add files or directories</a></li>
<li><a class="reference" href="#additionaldata" id="id28" name="id28"><tt class="docutils literal"><span class="pre">&lt;additionaldata&gt;</span></tt></a></li>
<li><a class="reference" href="#singlefile-add-a-single-file" id="id29" name="id29"><tt class="docutils literal"><span class="pre">&lt;singlefile&gt;</span></tt> - add a single file</a></li>
<li><a class="reference" href="#fileset-add-a-fileset" id="id30" name="id30"><tt class="docutils literal"><span class="pre">&lt;fileset&gt;</span></tt>: add a fileset</a></li>
<li><a class="reference" href="#parsable-parse-a-file-after-installation" id="id31" name="id31"><tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt> - parse a file after installation</a></li>
<li><a class="reference" href="#executable-mark-file-executable-or-execute-it" id="id32" name="id32"><tt class="docutils literal"><span class="pre">&lt;executable&gt;</span></tt> - mark file executable or execute it</a></li>
<li><a class="reference" href="#os-make-a-file-os-dependent" id="id33" name="id33"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - make a file OS-dependent</a></li>
<li><a class="reference" href="#the-native-element-native" id="id34" name="id34">The Native Element <tt class="docutils literal"><span class="pre">&lt;native&gt;</span></tt></a></li>
<li><a class="reference" href="#os-make-a-library-os-dependent" id="id35" name="id35"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - make a library OS-dependent</a></li>
<li><a class="reference" href="#the-jar-merging-element-jar" id="id36" name="id36">The Jar Merging Element <tt class="docutils literal"><span class="pre">&lt;jar&gt;</span></tt></a></li>
</ul>
</li>
<li><a class="reference" href="#xinclude-style-constructs" id="id37" name="id37">XInclude-style constructs</a><ul>
<li><a class="reference" href="#the-xfallback-element" id="id38" name="id38">The xfallback element</a></li>
<li><a class="reference" href="#the-xfragment-element" id="id39" name="id39">The xfragment element</a></li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id2" id="what-you-need" name="what-you-need">What You Need</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id3" id="your-editor" name="your-editor">Your editor</a></h2>
<p>In order to write your XML installation files, you just need a plain text
editor. Of course it's always easier to work with color coded text, so you
might rather want to work with a text editor having such a feature. Here is a
list of free editors that work well :</p>
<ul class="simple">
<li>Jext : <a class="reference" href="http://www.jext.org/">http://www.jext.org/</a></li>
<li>JEdit : <a class="reference" href="http://www.jedit.org/">http://www.jedit.org/</a></li>
<li>classics like Vim and (X)Emacs.</li>
</ul>
<p>If you are a developer and tend to write your own patches, extension or
features to IzPack sources, or, if you wish to debug your compilation,
installation and uninstallation, we recommend these IDE:</p>
<ul class="simple">
<li>IntelliJ IDEA : <a class="reference" href="http://www.jetbrains.com/idea/">http://www.jetbrains.com/idea/</a></li>
<li>Eclipse : <a class="reference" href="http://www.eclipse.org/">http://www.eclipse.org/</a></li>
<li>Netbeans : <a class="reference" href="http://www.netbeans.org/">http://www.netbeans.org/</a></li>
</ul>
<p>For the first one, JetBrains has granted us an Open Source License. All
project members can ask the Licence Key to one of the project manager.</p>
<p>The other ones are well know open source projects (Just like us :-)). We provide
a tutorial on how to develop/debug IzPack using Eclipse in the chapter
''Getting Started &gt; How to develop and debug IpPack using Eclipse''</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id4" id="writing-xml" name="writing-xml">Writing XML</a></h2>
<p>Though you might not know much about XML, you have certainly heard about it.
If you know XML you can skip this subsection as we will briefly present how
to use XML.</p>
<p>XML is a markup language, really close to HTML. If you've ever worked with
HTML the transition will be fast. However there are a few little things to
know. The markups used in XML have the following form : <tt class="docutils literal"><span class="pre">&lt;markup&gt;</span></tt>. Each
markup has to be closed somewhere with its ending tag : <tt class="docutils literal"><span class="pre">&lt;/markup&gt;</span></tt>. Each
tag can contain text and other markups. If a markup does not contain
anything, it is just reported once : <tt class="docutils literal"><span class="pre">&lt;markup/&gt;</span></tt>. A markup can contain
attributes like : <tt class="docutils literal"><span class="pre">&lt;markup</span> <span class="pre">attr1=&quot;123&quot;</span> <span class="pre">attr2=&quot;hello</span> <span class="pre">!&quot;/&gt;</span></tt>. Here is a sample
of a valid XML structure :</p>
<pre class="literal-block">
&lt;chapter title=&quot;Chapter 1&quot;&gt;
  &lt;section name=&quot;Introduction&quot;&gt;
    &lt;paragraph&gt;
    This is the text of the paragraph number 1. It is available
    for the very low
    price of &lt;price currency=&quot;dollar&quot;&gt;1 000 000&lt;/price&gt;.
    &lt;/paragraph&gt;
  &lt;/section&gt;
  &lt;section name=&quot;xxx&quot;&gt;
  xxx
  &lt;/section&gt;
&lt;/chapter&gt;
</pre>
<p>You should be aware of the following common mistakes :</p>
<ul class="simple">
<li>markups <strong>are</strong> case sensitive : <tt class="docutils literal"><span class="pre">&lt;markup&gt;</span></tt> is different from
<tt class="docutils literal"><span class="pre">&lt;Markup&gt;</span></tt>.</li>
<li>you <strong>must</strong> close the markups in the same order as you create them :
<tt class="docutils literal"><span class="pre">&lt;m1&gt;&lt;m2&gt;(...)&lt;/m2&gt;&lt;/m1&gt;</span></tt> is right but `` &lt;m1&gt;&lt;m2&gt;(...)&lt;/m1&gt;&lt;/m2&gt;`` is
not.</li>
</ul>
<p>Also, an XML file must start with the following header :
<tt class="docutils literal"><span class="pre">&lt;?xml</span> <span class="pre">version=&quot;1.0&quot;</span> <span class="pre">encoding=&quot;iso-8859-1</span> <span class="pre">standalone=&quot;yes&quot;</span> <span class="pre">?&gt;</span></tt>. The only
thing you should modify is the encoding (put here the one your text editor
saves your files to). The `` standalone`` attribute is not very important for
us.</p>
<p>This (brief !) introduction to XML was just meant to enable you to write your
installation specification. For a better introduction there are plenty of
books and articles/tutorials dealing with XML on the Internet, in book
stores, in magazines and so on.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id5" id="variable-substitution" name="variable-substitution">Variable Substitution</a></h1>
<p>During the installation process IzPack can substitute variables in various
places with real values. Obvious targets for variable substitution are
resource files and launch scripts, however you will notice many more places
where it is more powerful to use variables rather then hard coded values.
Wherever variables can be used it will be explained in the documentation.</p>
<p>There are three types of variables:</p>
<ul class="simple">
<li>Built-In variables. These are implemented in IzPack and are all
dynamic in nature. This means that the value of each variable depends on
local conditions on the target system.</li>
<li>Environment variables. These are provided by the operating system the
installer is run on.</li>
<li>Variables that you can define. You also define the value, which is
fixed for a given installation file.</li>
</ul>
<p>You define your own variables in the installation XML file with the
<tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tag. How to do this is explained in detail later in this
chapter.</p>
<p><strong>Please note</strong> that when using variables they must always appear with a
'<tt class="docutils literal"><span class="pre">$</span></tt>' sign as the first character, even though they are not defined this
way.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id6" id="the-built-in-variables" name="the-built-in-variables">The Built-In Variables</a></h1>
<p>The following variables are built-in :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">$INSTALL_PATH</span></tt> : the installation path on the target system, as
chosen by the user</li>
<li><tt class="docutils literal"><span class="pre">$APPLICATIONS_DEFAULT_ROOT</span></tt> : the default path for applications</li>
<li><tt class="docutils literal"><span class="pre">$JAVA_HOME</span></tt> : the JavaTM virtual machine home path</li>
<li><tt class="docutils literal"><span class="pre">$CLASS_PATH</span></tt> : the Class Path used mainly for Java Applications</li>
<li><tt class="docutils literal"><span class="pre">$USER_HOME</span></tt> : the user's home directory path</li>
<li><tt class="docutils literal"><span class="pre">$USER_name</span></tt> : the user name</li>
<li><tt class="docutils literal"><span class="pre">$APP_name</span></tt> : the application name</li>
<li><tt class="docutils literal"><span class="pre">$APP_URL</span></tt> : the application URL</li>
<li><tt class="docutils literal"><span class="pre">$APP_VER</span></tt> : the application version</li>
<li><tt class="docutils literal"><span class="pre">$ISO3_LANG</span></tt> : the ISO3 language code of the selected langpack.</li>
<li><tt class="docutils literal"><span class="pre">$IP_ADDRESS</span></tt> : the IP Address of the local machine.</li>
<li><tt class="docutils literal"><span class="pre">$HOST_NAME</span></tt> : the HostName of the local machine.</li>
<li><tt class="docutils literal"><span class="pre">$FILE_SEPARATOR</span></tt> : the file separator on the installation system</li>
<li><tt class="docutils literal"><span class="pre">$DesktopShortcutCheckboxEnabled</span></tt> : When set to true, it
automatically checks the &quot;Create Desktop Shortcuts&quot; button. To see how to
use it, go to <cite>The Variables Element ``&lt;variables&gt;`</cite> Be careful this
variable is case sensitve !</li>
<li><tt class="docutils literal"><span class="pre">$InstallerFrame.logfilePath</span></tt> : The path to the install log. This
file contains the paths of all installed files. If set to &quot;default&quot; then
the &quot;$INSTALL_PATH/Uninstaller/install.log&quot; path will be used. To see how
to use it, go to <cite>The Variables Element ``&lt;variables&gt;`</cite>. If this
variable is not set, no install.log will be created.</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id7" id="environment-variables" name="environment-variables">Environment Variables</a></h1>
<p>Environment variables can be accessed via the syntax <tt class="docutils literal"><span class="pre">${ENV[variable]}</span></tt>.
The curly braces are mandatory. Note that variable names are case-sensitive
and usually in UPPER CASE.</p>
<p>Example: To get the value of the OS environment variable &quot;CATALINA_HOME&quot;, use
<tt class="docutils literal"><span class="pre">${ENV[CATALINA_HOME]}</span></tt>.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id8" id="dynamic-variables" name="dynamic-variables">Dynamic Variables</a></h1>
<p>Dynamic variables can be defined in the installation XML with the <tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tag inside
the <tt class="docutils literal"><span class="pre">&lt;dynamicvariables&gt;</span></tt> element. The value of dynamic variables will be evaluated every time a panel
is switched, i.e. between the panels. Dynamic variables can have a condition which will be evaluated
first. If it's true, the value would be assigned, otherwise nothing happens to the variable.</p>
<p>Example: To change a certain directory based on user input, use the following
<tt class="docutils literal"><span class="pre">&lt;variable</span> <span class="pre">name=&quot;test&quot;</span> <span class="pre">value=&quot;/test/${USER_INPUT}&quot;</span> <span class="pre">condition=&quot;hasuserinput&quot;</span> <span class="pre">/&gt;</span></tt>
The condition has userinput has to be specified in the condition section of installation XML.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id9" id="parse-types" name="parse-types">Parse Types</a></h1>
<p>Parse types apply only when replacing variables in text files. At places
where it might be necessary to specify a parse type, the documentation will
mention this. Depending on the parse type, IzPack will handle special cases
-such as escaping control characters- correctly. The following parse types
are available:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">plain</span></tt> - use this type for plain text files, where no special
substitution rules apply. All variables will be replaced with their
respective values as is.</li>
<li><tt class="docutils literal"><span class="pre">javaprop</span></tt> - use this type if the substitution happens in a Java
properties file. Individual variables might be modified to function
properly within the context of Java property files.</li>
<li><tt class="docutils literal"><span class="pre">xml</span></tt> - use this type if the substitution happens in a XML file.
Individual variables might be modified to function properly within the
context of XML files.</li>
<li><tt class="docutils literal"><span class="pre">shell</span></tt> - use this type if the substitution happens in a shell
script. Because shell scripts use <tt class="docutils literal"><span class="pre">$variable</span></tt> themselves, an
alternative variable marker is used: <tt class="docutils literal"><span class="pre">%variable</span></tt> or <tt class="docutils literal"><span class="pre">%{variable}</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">at</span></tt> - use this type if the substitution must occure on files
where paramters are marked with leading AT characters.
The example: <tt class="docutils literal"><span class="pre">&#64;variable</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">ant</span></tt> - use this type if the substitution must occure on files
where parameters are surrounded with AT characters (similar to ANT
filters, hence the type name). The example: <tt class="docutils literal"><span class="pre">&#64;variable&#64;</span></tt>.</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id10" id="the-izpack-elements" name="the-izpack-elements">The IzPack Elements</a></h1>
<p><em>When writing your installer XML files, it's a good idea to have a look at
the iZPACK installation DTD</em>.</p>
<div class="section">
<h2><a class="toc-backref" href="#id11" id="the-root-element-installation" name="the-root-element-installation">The Root Element <tt class="docutils literal"><span class="pre">&lt;installation&gt;</span></tt></a></h2>
<p>The root element of an installation is <tt class="docutils literal"><span class="pre">&lt;installation&gt;</span></tt>. It takes one
required attribute : <tt class="docutils literal"><span class="pre">version</span></tt>. The attribute defines the version of the
XML file layout and is used by the compiler to identify if it is compatible
with the XML file. This should be set to <strong>1.0</strong> for the moment.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id12" id="the-information-element-info" name="the-information-element-info">The Information Element <tt class="docutils literal"><span class="pre">&lt;info&gt;</span></tt></a></h2>
<p>This element is used to specify some general information for the installer.
It contains the following elements :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;appname&gt;</span></tt> : the application name</li>
<li><tt class="docutils literal"><span class="pre">&lt;appversion&gt;</span></tt> : the application version</li>
<li><tt class="docutils literal"><span class="pre">&lt;appsubpath&gt;</span></tt> : the subpath for the default of the installation
path. A variable substitution and a maskable slash-backslash conversion
will be done. If this tag is not defined, the application name will be
used instead.</li>
<li><tt class="docutils literal"><span class="pre">&lt;url&gt;</span></tt> : the application official website url</li>
<li><tt class="docutils literal"><span class="pre">&lt;authors&gt;</span></tt> : specifies the author(s) of the application. It must
contain at least one <tt class="docutils literal"><span class="pre">&lt;author&gt;</span></tt> element whose attributes are :<ul>
<li><tt class="docutils literal"><span class="pre">name</span></tt> : the author's name</li>
<li><tt class="docutils literal"><span class="pre">email</span></tt> : the author's email</li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">&lt;uninstaller&gt;</span></tt> : specifies whether to create an uninstaller after
installation, and which name to use for it. This tag has the <tt class="docutils literal"><span class="pre">write</span></tt>
attribute, with default value `` yes``. If this tag is not specified, the
uninstaller will still be written. The <tt class="docutils literal"><span class="pre">name</span></tt> attribute can be used to
change the default name of the generated uninstaller, <em>i.e.</em> ``
uninstaller.jar``.</li>
<li><tt class="docutils literal"><span class="pre">&lt;javaversion&gt;</span></tt> : specifies the minimum version of Java required to
install your program. Values can be <tt class="docutils literal"><span class="pre">1.2</span></tt>, <tt class="docutils literal"><span class="pre">1.2.2</span></tt>, <tt class="docutils literal"><span class="pre">1.4</span></tt>, etc. The
test is a lexical comparison against the <tt class="docutils literal"><span class="pre">java.version</span></tt> System property
on the install machine.</li>
<li><tt class="docutils literal"><span class="pre">&lt;requiresjdk&gt;</span></tt>: (yes or no) specifies wether a JDK is required for the software
to be installed and executed. If not, then the user will be informed and given the
option to still proceed with the installation process or not.</li>
<li><tt class="docutils literal"><span class="pre">&lt;webdir&gt;</span></tt> : Causes a ''web installer'' to be created, and
specifies the URL packages are retrieved from at install time. The
content of the tag must be a properly formed URL.</li>
<li><tt class="docutils literal"><span class="pre">&lt;summarylogfilepath&gt;</span></tt> : specifies the path for the logfile of the
<cite>SummaryLoggerInstallerListener</cite>.</li>
</ul>
<p>Here is an example of a typical <tt class="docutils literal"><span class="pre">&lt;info&gt;</span></tt> section :</p>
<pre class="literal-block">
&lt;info&gt;
  &lt;appname&gt;Super extractor&lt;/appname&gt;
  &lt;appversion&gt;2.1 beta 6&lt;/appversion&gt;
  &lt;appsubpath&gt;myCompany/SExtractor&lt;/appsubpath&gt;
  &lt;url&gt;http://www.superextractor.com/&lt;/url&gt;
  &lt;authors&gt;
    &lt;author name=&quot;John John Doo&quot; email=&quot;jjd&#64;jjd-mail.com&quot;/&gt;
    &lt;author name=&quot;El Goyo&quot; email=&quot;goyoman&#64;mymail.org&quot;/&gt;
  &lt;/authors&gt;
  &lt;javaversion&gt;1.2&lt;/javaversion&gt;
&lt;/info&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id13" id="the-packaging-element-packaging" name="the-packaging-element-packaging">The Packaging Element <tt class="docutils literal"><span class="pre">&lt;packaging&gt;</span></tt></a></h2>
<p>This element allows to specify packaging options. If not specified, the default will be to create an all in one
installer. This element will usually be used to create an installer which spans over multiple volumes,
e.g. the output will be two CDs. The packaging-element contains the following elements:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">&lt;packager&gt;</span></tt> : specifies options used by the packager. The packager tag has the <tt class="docutils literal"><span class="pre">class</span></tt> attribute,
which specifys the class to use for packaging. Currently two implementations
are available (com.izforge.izpack.compiler.Packager, com.izforge.izpack.compiler.MultiVolumePackager).
The packager-element can contain the <tt class="docutils literal"><span class="pre">&lt;options&gt;</span></tt> element which can have different attributes for the different
implementations of packagers. For the MultiVolumePackager, it can have the following attributes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">volumesize</span></tt>: the size of the volumes</li>
<li><tt class="docutils literal"><span class="pre">firstvolumefreespace</span></tt>: free space on the first volume used for the installer jar and additional resources like
readme-files etc.</li>
</ul>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">&lt;unpacker&gt;</span></tt> <span class="classifier-delimiter">:</span> <span class="classifier">specifies which unpacker class should be used. Currently there are two unpacker implementations</span></dt>
<dd><p class="first last">(com.izforge.izpack.compiler.UnPacker, com.izforge.izpack.compiler.MultiVolumeUnPacker).</p>
</dd>
</dl>
</li>
</ul>
<p>Here's an example how to specify an installer which will create multiple volumes. In this example the volumes shall be
CDs with 650 megabytes. There will be an additional free space of 150 megabytes on the first volume. This will result in
the creation of an installer.jar and multiple installer.pak* files. The installer.jar plus installer.pak plus the additional
resources have to be copied on the first volume, each installer.pak.&lt;number&gt; on several volumes.</p>
<pre class="literal-block">
&lt;packaging&gt;
  &lt;packager class=&quot;com.izforge.izpack.compiler.MultiVolumePackager&quot;&gt;
              &lt;!-- 650 MB volumes, 150 MB space on the first volume --&gt;
      &lt;options volumesize=&quot;681574400&quot; firstvolumefreespace=&quot;157286400&quot;/&gt;
  &lt;/packager&gt;
  &lt;unpacker class=&quot;com.izforge.izpack.installer.MultiVolumeUnpacker&quot; /&gt;
&lt;/packaging&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id14" id="the-variables-element-variables" name="the-variables-element-variables">The Variables Element <tt class="docutils literal"><span class="pre">&lt;variables&gt;</span></tt></a></h2>
<p>This element allows you to define variables for the variables substitution
system. Some variables are built-in, such as <tt class="docutils literal"><span class="pre">$INSTALL_PATH</span></tt> (which is the
installation path chosen by the user). When you define a set of variables,
you just have to place as many <tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tags in the file as needed. If
you define a variable named <tt class="docutils literal"><span class="pre">VERSION</span></tt> you need to type $VERSION in the
files to parse. The variable substitutor will then replace it with the
correct value. One <tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tag take the following attributes :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : the variable name</li>
<li><tt class="docutils literal"><span class="pre">value</span></tt> : the variable value</li>
</ul>
<p>Here's a sample <tt class="docutils literal"><span class="pre">&lt;variables&gt;</span></tt> section :</p>
<pre class="literal-block">
&lt;variables&gt;
  &lt;variable name=&quot;app-version&quot; value=&quot;1.4&quot;/&gt;
  &lt;variable name=&quot;released-on&quot; value=&quot;08/03/2002&quot;/&gt;
&lt;/variables&gt;
</pre>
<p>Here's a precise sample on how to use desktopshortcutcheckboxenabled and
InstallerFrame.logfilePath variables:</p>
<pre class="literal-block">
&lt;variables&gt;
  &lt;variable name=&quot;InstallerFrame.logfilePath&quot; value=&quot;$INSTALL_PATH
  /My-install.log&quot;/&gt;
    &lt;!-- This means that the log name will be My-install and that
  it will be stored at the root of the installation. --&gt;
    &lt;!-- Any path is fine. If value is set to &quot;Default&quot; then
  &quot;$INSTALL_PATH/uninstall/install.log&quot; is used. --&gt;
    &lt;!-- And if variable isn't defined then no log is written. --&gt;
  &lt;variable name=&quot;desktopshortcutcheckboxenabled&quot; value=&quot;true&quot;/&gt;
    &lt;!-- This automatically checks the &quot;Create Desktop Shortcuts&quot;
  button. Default value is &quot;False&quot;. --&gt;
&lt;/variables&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id15" id="the-dynamic-variables-element-dynamicvariables" name="the-dynamic-variables-element-dynamicvariables">The dynamic Variables Element <tt class="docutils literal"><span class="pre">&lt;dynamicvariables&gt;</span></tt></a></h2>
<p>This element allows you to define dynamic variables for the variables substitution
system. In contrast to the static <tt class="docutils literal"><span class="pre">&lt;variables</span></tt>, dynamic variables will be evaluated
every time, a panel switch is done.</p>
<p>When you define a set of variables, you just have to place as many <tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tags
in the file as needed. Normally you would use the condition attribute to specify, when
a certain value will be set.</p>
<p>One <tt class="docutils literal"><span class="pre">&lt;variable&gt;</span></tt> tag take the following attributes :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : the variable name</li>
<li><tt class="docutils literal"><span class="pre">value</span></tt> : the variable value</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt> : a condition for this variable, which has to be true to set the value</li>
</ul>
<p>Here's a sample <tt class="docutils literal"><span class="pre">&lt;dynamicvariables&gt;</span></tt> section :</p>
<pre class="literal-block">
&lt;dynamicvariables&gt;
  &lt;variable name=&quot;app-version&quot; value=&quot;1.4&quot; condition=&quot;mycondition1&quot; /&gt;
  &lt;variable name=&quot;app-version&quot; value=&quot;1.4b&quot; condition=&quot;!mycondition1&quot; /&gt;
  &lt;variable name=&quot;released-on&quot; value=&quot;08/03/2002&quot; /&gt;
&lt;/dynamicvariables&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id16" id="the-conditions-element-conditions" name="the-conditions-element-conditions">The Conditions Element <tt class="docutils literal"><span class="pre">&lt;conditions&gt;</span></tt></a></h2>
<p>This element allows you to define conditions which can be used to dynamically change the installer,
e.g. the panels shown, the variables set, files parsed, files
executed and much more. When you define a condition it will get a type and an id. The id has to be unique. Conditions can be referenced
based on this id (e.g. with the <tt class="docutils literal"><span class="pre">RefCondition</span></tt>).</p>
<p>There are several built-in types of conditions. At the time of writing this, Izpack has the following built-in types:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">VariableCondition</span></tt>: a condition based on the value of a certain variable</li>
<li><tt class="docutils literal"><span class="pre">PackSelectionCondition</span></tt>: a condition based on a pack selected for installation</li>
<li><tt class="docutils literal"><span class="pre">JavaCondition</span></tt>: a condition based on a static java field or method.</li>
</ul>
<p>There are also boolean types to combine more than one condition:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">AndCondition</span></tt>: both conditions have to be true</li>
<li><tt class="docutils literal"><span class="pre">OrCondition</span></tt>: only one of both conditions has to be true</li>
<li><tt class="docutils literal"><span class="pre">XOrCondition</span></tt>: one condition has to be true, the other one has to be false</li>
<li><tt class="docutils literal"><span class="pre">NotCondition</span></tt>: the condition has to be false</li>
</ul>
<p>When you define a set of conditions, you just have to write as many <tt class="docutils literal"><span class="pre">&lt;condition&gt;</span></tt> tags as you like. A
condition can take the following attributes:</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">type</span></tt>: the type of the condition. For built-in types, this is the lowercase portion of the condition class</dt>
<dd><p class="first last">name without condition appended (variable,packselection,java, ...). Custom condition types should be
referenced by the full qualified class name, e.g. de.dr.rules.MyCoolCondition.</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">id</span></tt>: the id of the condition. This will be used to refer to this conditions in other elements</p>
</li>
</ul>
<p>The condition element can have several child elements depending on the type of this conditions. E.g. the VariableCondition
has a name and value child element to specify, which variable should have a certain value to fullfil this condition.</p>
<p>This is an example which defines four conditions, two VariableConditions, a JavaCondition and a AndCondition which will
refer to two of the first conditions.</p>
<pre class="literal-block">
&lt;conditions&gt;
   &lt;condition type=&quot;variable&quot; id=&quot;standardinstallation&quot;&gt;
      &lt;name&gt;setup.type&lt;/name&gt;
      &lt;value&gt;standard&lt;/name&gt;
   &lt;/condition&gt;
   &lt;condition type=&quot;variable&quot; id=&quot;expertinstallation&quot;&gt;
      &lt;name&gt;setup.type&lt;/name&gt;
      &lt;value&gt;expert&lt;/name&gt;
   &lt;/condition&gt;
   &lt;condition type=&quot;java&quot; id=&quot;installonwindows&quot;&gt;
             &lt;java&gt;
                     &lt;class&gt;com.izforge.izpack.util.OsVersion&lt;/class&gt;
                     &lt;field&gt;IS_WINDOWS&lt;/field&gt;
             &lt;/java&gt;
             &lt;returnvalue type=&quot;boolean&quot;&gt;true&lt;/returnvalue&gt;
       &lt;/condition&gt;
       &lt;condition type=&quot;and&quot; id=&quot;standardinstallation.onwindows&quot;&gt;
             &lt;condition type=&quot;ref&quot; refid=&quot;standardinstallation&quot;/&gt;
             &lt;condition type=&quot;ref&quot; refid=&quot;installonwindows&quot; /&gt;
       &lt;/condition&gt;
&lt;/condition&gt;
</pre>
<p>Note, from IzPack 3.11 on normally, you don't have to define the compound conditions because you can use a simple
expression language. The language has the following operators:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">+</span></tt>: an operator for the Andcondition</li>
<li><tt class="docutils literal"><span class="pre">|</span></tt>: an operator for the OrCondition</li>
<li><tt class="docutils literal"><span class="pre">\</span></tt>: an operator for the XOrCondition</li>
<li><tt class="docutils literal"><span class="pre">!</span></tt>: an operator for the NotCondition</li>
</ul>
<p>Neverthless if you define really complex conditions it's much easier to define them using the xml structure.</p>
<p>More types of conditions can be defined by inheriting com.izforge.izpack.Condition class.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id17" id="the-gui-preferences-element-guiprefs" name="the-gui-preferences-element-guiprefs">The GUI Preferences Element <tt class="docutils literal"><span class="pre">&lt;guiprefs&gt;</span></tt></a></h2>
<p>This element allows you to set the behavior of your installer GUI. This
information will not have any effect on the command-line installers that will
be available in future versions of iZPACK . The arguments to specify are :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">resizable</span></tt> : takes <tt class="docutils literal"><span class="pre">yes</span></tt> or <tt class="docutils literal"><span class="pre">no</span></tt> and indicates whether the
window size can be changed or not.</li>
<li><tt class="docutils literal"><span class="pre">width</span></tt> : sets the initial window width</li>
<li><tt class="docutils literal"><span class="pre">height</span></tt> : sets the initial window height.</li>
</ul>
<p>Here's a sample :</p>
<pre class="literal-block">
&lt;guiprefs resizable=&quot;no&quot; width=&quot;800&quot; height=&quot;600&quot;/&gt;
</pre>
<p>Starting from IzPack 3.6, the look and feel can be specified in this section
on a per-OS basis. For instance you can use the native look and feels on
Win32 and OS X but use a third-party one on Unix-like platforms. To do that,
you have to add some children to the <tt class="docutils literal"><span class="pre">guiprefs</span></tt> tag:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">laf</span></tt>: the tag that specifies a look and feel. It has a <tt class="docutils literal"><span class="pre">name</span></tt>
parameter that defines the look and feel name.</li>
<li>Each <tt class="docutils literal"><span class="pre">laf</span></tt> element needs at least one <tt class="docutils literal"><span class="pre">os</span></tt> tag, specified like in
the other parts of the specification that support this tag.</li>
<li>Like you can add <tt class="docutils literal"><span class="pre">os</span></tt> elements, you can add any number of <tt class="docutils literal"><span class="pre">param</span></tt>
elements to customize a look and feel. A <tt class="docutils literal"><span class="pre">param</span></tt> elements has two
attribues: <tt class="docutils literal"><span class="pre">name</span></tt> and `` value``.</li>
</ul>
<p>The available look and feels are:</p>
<ul class="simple">
<li>Kunststoff: <tt class="docutils literal"><span class="pre">kunststoff</span></tt></li>
<li>Liquid: <tt class="docutils literal"><span class="pre">liquid</span></tt></li>
<li>Metouia: <tt class="docutils literal"><span class="pre">metouia</span></tt></li>
<li>JGoodies Looks: <tt class="docutils literal"><span class="pre">looks</span></tt></li>
<li>Substance: <tt class="docutils literal"><span class="pre">substance</span></tt></li>
</ul>
<p>If you don't specify a look and feel for a particular operating system, then
the default native one will be used: Windows on Windows, Aqua on Mac OS X and
Metal on the Unix-like variants.</p>
<p>The <em>Liquid Look and Feel</em> supports the following parameters:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">decorate.frames</span></tt>: <tt class="docutils literal"><span class="pre">yes</span></tt> means that it will render the frames in
Liquid style</li>
<li><tt class="docutils literal"><span class="pre">decorate.dialogs</span></tt>: <tt class="docutils literal"><span class="pre">yes</span></tt> means that it will render the dialogs
in Liquid style</li>
</ul>
<p>The <em>JGoodies Looks</em> look and feel can be specified by using the <tt class="docutils literal"><span class="pre">variant</span></tt>
parameters. The values can be one of:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">windows</span></tt>: use the Windows look</li>
<li><tt class="docutils literal"><span class="pre">plastic</span></tt>: use the basic Plastic look</li>
<li><tt class="docutils literal"><span class="pre">plastic3D</span></tt>: use the Plastic 3D look</li>
<li><tt class="docutils literal"><span class="pre">plasticXP</span></tt>: use the Plastic XP look (default).</li>
</ul>
<p>Here is a small sample:</p>
<pre class="literal-block">
&lt;guiprefs height=&quot;600&quot; resizable=&quot;yes&quot; width=&quot;800&quot;&gt;
    &lt;laf name=&quot;metouia&quot;&gt;
        &lt;os family=&quot;unix&quot; /&gt;
    &lt;/laf&gt;
    &lt;laf name=&quot;looks&quot;&gt;
        &lt;os family=&quot;windows&quot; /&gt;
        &lt;param name=&quot;variant&quot; value=&quot;extwin&quot; /&gt;
    &lt;/laf&gt;
&lt;/guiprefs&gt;
</pre>
<p>The <em>Substance</em> look and feel <em>toned-down</em> themes can be specified using the
<tt class="docutils literal"><span class="pre">variant</span></tt> parameter, with the value being one of: <tt class="docutils literal"><span class="pre">business,</span> <span class="pre">business-</span>
<span class="pre">blue,</span> <span class="pre">business-black,</span> <span class="pre">creme,</span> <span class="pre">sahara,</span> <span class="pre">moderate,</span> <span class="pre">officesilver</span></tt>. We have
reduced the choice to the toned-down themes since they are the only ones to
actually look decent (the other families colors are way too saturated).
Please consult <a class="reference" href="https://substance.dev.java.net/docs/skins/toneddown.html">https://substance.dev.java.net/docs/skins/toneddown.html</a>
for a gallery of the different toned-down themes.</p>
<p>Starting from IzPack 3.7, some characteristics can be customized with the
<tt class="docutils literal"><span class="pre">&lt;modifier&gt;</span></tt> tag. There is a separate description in the <cite>Advanced
Features</cite> chapter paragraph <cite>Modifying the GUI</cite>.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id18" id="the-localization-element-locale" name="the-localization-element-locale">The Localization Element <tt class="docutils literal"><span class="pre">&lt;locale&gt;</span></tt></a></h2>
<p>This element is used to specify the language packs (langpacks) that you want
to use for your installer. You must set one <tt class="docutils literal"><span class="pre">&lt;langpack&gt;</span></tt> markup per
language. This markup takes the `` iso3`` parameter which specifies the iso3
language code.</p>
<p>Here's a sample :</p>
<pre class="literal-block">
&lt;locale&gt;
  &lt;langpack iso3=&quot;eng&quot;/&gt;
  &lt;langpack iso3=&quot;fra&quot;/&gt;
  &lt;langpack iso3=&quot;spa&quot;/&gt;
&lt;/locale&gt;
</pre>
<p>The supported ISO3 codes are :</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">ISO3 code</th>
<th class="head">Language</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>cat</td>
<td>Catalunyan</td>
</tr>
<tr><td>chn</td>
<td>Chinese</td>
</tr>
<tr><td>cze</td>
<td>Czech</td>
</tr>
<tr><td>dan</td>
<td>Danish</td>
</tr>
<tr><td>glg</td>
<td>Galician</td>
</tr>
<tr><td>deu</td>
<td>German</td>
</tr>
<tr><td>eng</td>
<td>English</td>
</tr>
<tr><td>fin</td>
<td>Finnish</td>
</tr>
<tr><td>fra</td>
<td>French</td>
</tr>
<tr><td>hun</td>
<td>Hungarian</td>
</tr>
<tr><td>ita</td>
<td>Italian</td>
</tr>
<tr><td>jpn</td>
<td>Japanese</td>
</tr>
<tr><td>mys</td>
<td>Malaysian</td>
</tr>
<tr><td>ned</td>
<td>Nederlands</td>
</tr>
<tr><td>nor</td>
<td>Norwegian</td>
</tr>
<tr><td>pol</td>
<td>Polnish</td>
</tr>
<tr><td>por</td>
<td>Portuguese (Brazilian)</td>
</tr>
<tr><td>rom</td>
<td>Romanian</td>
</tr>
<tr><td>rus</td>
<td>Russian</td>
</tr>
<tr><td>scg</td>
<td>Serbian</td>
</tr>
<tr><td>spa</td>
<td>Spanish</td>
</tr>
<tr><td>svk</td>
<td>Slovakian</td>
</tr>
<tr><td>swe</td>
<td>Swedish</td>
</tr>
<tr><td>ukr</td>
<td>Ukrainian</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id19" id="the-resources-element-resources" name="the-resources-element-resources">The Resources Element <tt class="docutils literal"><span class="pre">&lt;resources&gt;</span></tt></a></h2>
<p>Several panels, such as the license panel and the shortcut panel, require
additional data to perform their task. This data is supplied in the form of
resources. This section describes how to specify them. Take a look at each
panel description to see if it might need any resources. Currently, no checks
are made to ensure resources needed by any panel have been included. The ``
&lt;resources&gt;`` element is not required, and no <tt class="docutils literal"><span class="pre">&lt;res&gt;</span></tt> elements are required
within.
The <tt class="docutils literal"><span class="pre">&lt;resources&gt;</span></tt> element is the only element besides the <tt class="docutils literal"><span class="pre">&lt;packs&gt;</span></tt>
element that is taken into consideration in referenced pack-files (see
<tt class="docutils literal"><span class="pre">`&lt;packs&gt;</span></tt> element`_ for more info)</p>
<p>You have to set one <tt class="docutils literal"><span class="pre">&lt;res&gt;</span></tt> markup for each resource. Here are the
attributes to specify :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">src</span></tt> : the path to the resource file which can be named freely of
course (for instance <tt class="docutils literal"><span class="pre">my-picture.jpg</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : the resource id, depending on the needs of a particular
panel</li>
<li><tt class="docutils literal"><span class="pre">parse</span></tt> : takes <tt class="docutils literal"><span class="pre">yes</span></tt> or <tt class="docutils literal"><span class="pre">no</span></tt> (default is <tt class="docutils literal"><span class="pre">no</span></tt>) - used to
specify whether the resource must be parsed at the installer compilation
time. For instance you could set the application version in a readme file
used by <tt class="docutils literal"><span class="pre">InfoPanel</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">type</span></tt> : specifies the parse type. This makes sense only for a text
resource - the default is <tt class="docutils literal"><span class="pre">plain</span></tt>, other values are <tt class="docutils literal"><span class="pre">javaprop,</span> <span class="pre">xml</span></tt>
(Java properties file and XML files)</li>
<li><tt class="docutils literal"><span class="pre">encoding</span></tt> : specifies the resource encoding if the receiver needs
to know. This makes sense only for a text resource.</li>
</ul>
<p>Here's a sample :</p>
<pre class="literal-block">
&lt;resources&gt;
  &lt;res id=&quot;InfoPanel.info&quot; src=&quot;doc/readme.txt&quot; parse=&quot;yes&quot;/&gt;
  &lt;res id=&quot;LicencePanel.licence&quot; src=&quot;legal/License.txt&quot;/&gt;
&lt;/resources&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id20" id="the-panels-element-panels" name="the-panels-element-panels">The Panels Element <tt class="docutils literal"><span class="pre">&lt;panels&gt;</span></tt></a></h2>
<p>Here you tell the compiler which panels you want to use. They will appear in
the installer in the order in which they are listed in your XML installation
file. Take a look at the different panels in order to find the ones you need.
The <tt class="docutils literal"><span class="pre">&lt;panel&gt;</span></tt> markup takes the following attributes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">classname</span></tt>: which is the classname of the panel.</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt>: an identifier for a panel which can be used e.g. for referencing in userinput panel definitions.</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to show this panel</li>
</ul>
<p>Here's a sample :</p>
<pre class="literal-block">
&lt;panels&gt;
  &lt;panel classname=&quot;HelloPanel&quot;/&gt;
  &lt;panel classname=&quot;LicencePanel&quot;/&gt;
  &lt;panel classname=&quot;TargetPanel&quot;/&gt;
  &lt;panel classname=&quot;InstallPanel&quot;/&gt;
  &lt;panel classname=&quot;UserInputPanel&quot; id=&quot;myuserinput&quot; condition=&quot;pack2selected&quot; /&gt;
  &lt;panel classname=&quot;FinishPanel&quot;/&gt;
&lt;/panels&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id21" id="the-packs-element-packs" name="the-packs-element-packs">The Packs Element <tt class="docutils literal"><span class="pre">&lt;packs&gt;</span></tt></a></h2>
<p>This is a crucial section as it is used to specify the files that need to be
installed. The <tt class="docutils literal"><span class="pre">&lt;packs&gt;</span></tt> section consists of several <tt class="docutils literal"><span class="pre">&lt;pack&gt;</span></tt> and
<tt class="docutils literal"><span class="pre">&lt;refpack&gt;</span></tt> tags.</p>
<p>The <tt class="docutils literal"><span class="pre">&lt;pack&gt;</span></tt> takes the following attributes :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt>: the pack name</li>
<li><tt class="docutils literal"><span class="pre">required</span></tt>: takes <tt class="docutils literal"><span class="pre">yes</span></tt> or <tt class="docutils literal"><span class="pre">no</span></tt> and specifies whether the pack
is optional or not.</li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: optional attribute that lets you make the pack targeted to a
specific <em>operating system</em>, for instance <tt class="docutils literal"><span class="pre">unix</span></tt>, <tt class="docutils literal"><span class="pre">mac</span></tt> and so on.</li>
<li><tt class="docutils literal"><span class="pre">preselected</span></tt>: optional attribute that lets you choose whether the
pack is by default selected for installation or not. Possible values are
<tt class="docutils literal"><span class="pre">yes</span></tt> and <tt class="docutils literal"><span class="pre">no</span></tt>. A pack which is not preselected needs to be
explicitly selected by the user during installation to get installed.</li>
<li><tt class="docutils literal"><span class="pre">loose</span></tt>: can be used so that the files are not located in the
installer Jar. The possible values are <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt>, the default
beeing <tt class="docutils literal"><span class="pre">false</span></tt>. The author of this feature needed to put his
application on a CD so that the users could run it directly from this
media. However, he also wanted to offer them the possibility to install
the software localy. Enabling this feature will make IzPack take the
files on disk instead of from the installer. <em>Please make sure that your
relative files paths are correct !</em></li>
<li><tt class="docutils literal"><span class="pre">id</span></tt>: this attribute is used to give a unique id to the pack to be
used for internationalization.</li>
<li><tt class="docutils literal"><span class="pre">packImgId</span></tt>: this attribute is used to reference a unique resource
that represents the pack's image for the ImgPacksPanel. The resource
should be defined in the <tt class="docutils literal"><span class="pre">&lt;resources&gt;</span></tt> element of the installation XML
using the same value for the <tt class="docutils literal"><span class="pre">id</span></tt> attribute of the <tt class="docutils literal"><span class="pre">&lt;res&gt;</span></tt> element.</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to install this
package.</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">&lt;refpack&gt;</span></tt> takes only one attribute <tt class="docutils literal"><span class="pre">file</span></tt>, which contains the
relative path (from the installation compiler) to an externally defined
packs-definition. This external packs definition is a regular IzPack
installation XML. However the only elements that are used from that XML file
are the <tt class="docutils literal"><span class="pre">&lt;packs&gt;</span></tt> and the <tt class="docutils literal"><span class="pre">&lt;resources&gt;</span></tt> elements. This enables a model in
which a single developer is responsible for maintaining the packs and
resources related to the development-package assigned to him. The main
install XML references these xml-files to avoid synchronization efforts
between the central installation XML and the developer-maintained installer
XMLs.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id22" id="internationalization-of-the-packspanel" name="internationalization-of-the-packspanel">Internationalization of the PacksPanel</a></h2>
<p>In order to provide internationalization for the PacksPanel, so that your
users can be presented with a different name and description for each
language you support, you have to create a file named <tt class="docutils literal"><span class="pre">packsLang.xml_xyz</span></tt>
where <tt class="docutils literal"><span class="pre">xyz</span></tt> is the ISO3 code of the language in lowercase. Please be aware
that case is significant. This file has to be inserted in the resources
section of `` install.xml`` with the <tt class="docutils literal"><span class="pre">id</span></tt> and <tt class="docutils literal"><span class="pre">src</span></tt> attributes set at the
name of the file. The format of these files is identical with the
distribution langpack files located at ``
$IZPACK_HOME/bin/langpacks/installer``. For the name of the panel you just
use the pack <tt class="docutils literal"><span class="pre">id</span></tt> as the txt <tt class="docutils literal"><span class="pre">id</span></tt>. For the description you use the pack
<tt class="docutils literal"><span class="pre">id</span></tt> suffixed with <tt class="docutils literal"><span class="pre">.description</span></tt>.</p>
<p>The following sections describe the tags available for a <tt class="docutils literal"><span class="pre">&lt;pack&gt;</span></tt> section.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id23" id="description-pack-description" name="description-pack-description"><tt class="docutils literal"><span class="pre">&lt;description&gt;</span></tt> - pack description</a></h2>
<p>The contents of the <tt class="docutils literal"><span class="pre">&lt;description&gt;</span></tt> tag describe the pack contents. This
description is displayed if the user highlights the pack during installation.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id24" id="depends-pack-dependencies" name="depends-pack-dependencies"><tt class="docutils literal"><span class="pre">&lt;depends&gt;</span></tt> - pack dependencies</a></h2>
<p>This can be used to make this pack selectable only to be installed only if
some other is selected to be installed. The pack can depend on more than one
by specifying more than one `` &lt;depends&gt;`` elements.
Circular depedencies are not supported and the compiler reports an error if
one occurs.</p>
<p>This tag takes the following attribute:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">packname</span></tt>: The name of the pack that it depends on</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id25" id="os-os-restrictions" name="os-os-restrictions"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - OS restrictions</a></h2>
<p>It is possible to restrict a panel to a certain list of operating systems.
This tag takes the following attributes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">family</span></tt>: unix, windows or mac</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt>: the exact OS name (ie Windows, Linux, ...)</li>
<li><tt class="docutils literal"><span class="pre">version</span></tt>: the exact OS version (see the JVM <tt class="docutils literal"><span class="pre">os.version</span></tt>
property)</li>
<li><tt class="docutils literal"><span class="pre">arch</span></tt>: the machine architecture (see the JVM <tt class="docutils literal"><span class="pre">os.arch</span></tt>
property).</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id26" id="updatecheck" name="updatecheck"><tt class="docutils literal"><span class="pre">&lt;updatecheck&gt;</span></tt></a></h2>
<p>This feature can update an already installed package, therefore removing
superfluous files after installation. Here's how this feature author (Tino
Schwarze) described it on the IzPack development mailing-list:</p>
<p>&gt; Each pack can now specify an <tt class="docutils literal"><span class="pre">&lt;updatecheck&gt;</span></tt> tag. It supports a subset of
ant fileset syntax, e.g.:</p>
<pre class="literal-block">
&lt;updatecheck&gt;
  &lt;include name=&quot;lib/**&quot; /&gt;
  &lt;exclude name=&quot;config/local/** /&gt;
&lt;/updatecheck&gt;
</pre>
<p>&gt; If the paths are relative, they will be matched relative to
<tt class="docutils literal"><span class="pre">$INSTALL_PATH</span></tt>. Update checks are only enabled if at least one
<tt class="docutils literal"><span class="pre">&lt;include&gt;</span></tt> is specified. See `` com.izforge.izpack.installer.Unpacker``
for details.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id27" id="file-add-files-or-directories" name="file-add-files-or-directories"><tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> - add files or directories</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> tag specifies a file (a directory is a file too) to include
into the pack. It takes the following attributes:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">src</span></tt>: the file location (relative path) - if this is a directory
its content will be added recursively</li>
<li><tt class="docutils literal"><span class="pre">targetdir</span></tt>: the destination directory, could be something like
<tt class="docutils literal"><span class="pre">$INSTALL_PATH/subdirX</span></tt></li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: can optionally specify a target operating system (<tt class="docutils literal"><span class="pre">unix,</span>
<span class="pre">windows,</span> <span class="pre">mac</span></tt>) - this means that the file will only be installed on its
target operating system</li>
<li><tt class="docutils literal"><span class="pre">override</span></tt>: if <tt class="docutils literal"><span class="pre">true</span></tt> then if the file is already installed, it
will be overwritten. Alternative values: <tt class="docutils literal"><span class="pre">asktrue</span></tt> and <tt class="docutils literal"><span class="pre">askfalse</span></tt> -
ask the user what to do and supply default value for non-interactive use.
Another possible values is <tt class="docutils literal"><span class="pre">update</span></tt>. It means that the new file is only
installed if it's modification time is newer than the modification time
of the already existing file (note that this is not a reliable mechanism
for updates - you cannot detect whether a file was altered after
installation this way.) By default it is set to `` update``.</li>
<li><tt class="docutils literal"><span class="pre">unpack</span></tt>: if <tt class="docutils literal"><span class="pre">true</span></tt> and the file is an archive then its content
will be unpacked and added as individual files</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to install this file</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id28" id="additionaldata" name="additionaldata"><tt class="docutils literal"><span class="pre">&lt;additionaldata&gt;</span></tt></a></h2>
<p>This tag can also be specified in order to pass additional data related to a
file tag for customizing.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;key&gt;</span></tt>: key to identify the data</li>
<li><tt class="docutils literal"><span class="pre">&lt;value&gt;</span></tt>: value which can be used by a custom action</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id29" id="singlefile-add-a-single-file" name="singlefile-add-a-single-file"><tt class="docutils literal"><span class="pre">&lt;singlefile&gt;</span></tt> - add a single file</a></h2>
<p>Specifies a single file to include. The difference to <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> is that this
tag allows the file to be renamed, therefore it has a <tt class="docutils literal"><span class="pre">target</span></tt> attribute
instead of `` targetdir``.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">src</span></tt>: the file location (relative path)</li>
<li><tt class="docutils literal"><span class="pre">target</span></tt>: the destination file name, could be something like
<tt class="docutils literal"><span class="pre">$INSTALL_PATH/subdirX/fileY</span></tt></li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: can optionally specify a target operating system (<tt class="docutils literal"><span class="pre">unix,</span>
<span class="pre">windows,</span> <span class="pre">mac</span></tt>) - this means that the file will only be installed on its
target operating system</li>
<li><tt class="docutils literal"><span class="pre">override</span></tt>: see <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> for description</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to install this file</li>
</ul>
<p>A <tt class="docutils literal"><span class="pre">&lt;additionaldata&gt;</span></tt> tag can also be specified for customizing.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id30" id="fileset-add-a-fileset" name="fileset-add-a-fileset"><tt class="docutils literal"><span class="pre">&lt;fileset&gt;</span></tt>: add a fileset</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;fileset&gt;</span></tt> tag allows files to be specified using the powerful Jakarta
Ant set syntax. It takes the following parameters:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dir</span></tt>: the base directory for the fileset (relative path)</li>
<li><tt class="docutils literal"><span class="pre">targetdir</span></tt>: the destination path, works like for <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">casesensitive</span></tt>: optionally lets you specify if the names are case-
sensitive or not - takes <tt class="docutils literal"><span class="pre">yes</span></tt> or <tt class="docutils literal"><span class="pre">no</span></tt></li>
<li><tt class="docutils literal"><span class="pre">defaultexcludes</span></tt>: optionally lets you specify if the default
excludes will be used - takes <tt class="docutils literal"><span class="pre">yes</span></tt> or <tt class="docutils literal"><span class="pre">no</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: specifies the operating system, works like for <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">override</span></tt>: see <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt> for description</li>
<li><tt class="docutils literal"><span class="pre">includes</span></tt>: comma- or space-separated list of patterns of files
that must be included; all files are included when omitted. This is an
alternative for multiple include tags.</li>
<li><tt class="docutils literal"><span class="pre">excludes</span></tt>: comma- or space-separated list of patterns of files
that must be excluded; no files (except default excludes) are excluded
when omitted. This is an alternative for multiple exclude tags.</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to install the files in this fileset</li>
</ul>
<p>You specify the files with <tt class="docutils literal"><span class="pre">&lt;include&gt;</span></tt> and <tt class="docutils literal"><span class="pre">&lt;exclude&gt;</span></tt> tags that take the
<tt class="docutils literal"><span class="pre">name</span></tt> parameter to specify the Ant-like pattern :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">**</span></tt> : means any subdirectory</li>
<li><tt class="docutils literal"><span class="pre">*</span></tt> : used as a wildcard.</li>
</ul>
<p>Here are some examples of Ant patterns :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;include</span> <span class="pre">name=&quot;lib&quot;/&gt;</span></tt> : will include <tt class="docutils literal"><span class="pre">lib</span></tt> and the
subdirectories of <tt class="docutils literal"><span class="pre">lib</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&lt;exclude</span> <span class="pre">name=&quot;**/*.java&quot;/&gt;</span></tt> : will exclude any file in any
directory starting from the base path ending by <tt class="docutils literal"><span class="pre">.java</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&lt;include</span> <span class="pre">name=&quot;lib/*.jar&quot;/&gt;</span></tt> : will include all the files ending
by <tt class="docutils literal"><span class="pre">.jar</span></tt> in <tt class="docutils literal"><span class="pre">lib</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&lt;exclude</span> <span class="pre">name=&quot;lib/**/*FOO*&quot;/&gt;</span></tt> : will exclude any file in any
subdirectory starting from <tt class="docutils literal"><span class="pre">lib</span></tt> whose name contains <tt class="docutils literal"><span class="pre">FOO</span></tt>.</li>
</ul>
<p>There area set of definitions that are excluded by default file-sets, just as
in Ant. IzPack defaults to the Ant list of default excludes. There is
currently no equivalent to the &lt;defaultexcludes&gt; task. Default excludes are:</p>
<pre class="literal-block">
**/*\~{}
**/\#*\#
**/.\#*
**/%*%
**/.\_*
**/CVS
**/CVS/**
**/.cvsignore
**/SCCS
**/SCCS/**
**/vssver.scc
**/.svn
**/.svn/**
**/.DS\_Store
</pre>
<p>A <tt class="docutils literal"><span class="pre">&lt;additionaldata&gt;</span></tt> tag can also be specified for customizing.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id31" id="parsable-parse-a-file-after-installation" name="parsable-parse-a-file-after-installation"><tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt> - parse a file after installation</a></h2>
<p>Files specified by <tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt> are parsed after installation and may have
variables substituted.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">targetfile</span></tt> : the file to parse, could be something like
<tt class="docutils literal"><span class="pre">$INSTALL_PATH/bin/launch-script.sh</span></tt>
A slash will be changed to the system dependant path separator (e.g. to a
backslash on Windows) only if no backslash masks the slash.</li>
<li><tt class="docutils literal"><span class="pre">type</span></tt> : specifies the type (same as for the resources) - the
default is <tt class="docutils literal"><span class="pre">plain</span></tt></li>
<li><tt class="docutils literal"><span class="pre">encoding</span></tt> : specifies the file encoding</li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: specifies the operating system, works like for <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to parse this file</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id32" id="executable-mark-file-executable-or-execute-it" name="executable-mark-file-executable-or-execute-it"><tt class="docutils literal"><span class="pre">&lt;executable&gt;</span></tt> - mark file executable or execute it</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;executable&gt;</span></tt> tag is a very useful thing if you need to execute
something during the installation process. It can also be used to set the
executable flag on Unix-like systems. Here are the attributes :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">targetfile</span></tt> : the file to run, could be something like
<tt class="docutils literal"><span class="pre">$INSTALL_PATH/bin/launch-script.sh</span></tt>
Slashes are handled special (see attribute <tt class="docutils literal"><span class="pre">targetfile</span></tt> of tag
<tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt>).</li>
<li><tt class="docutils literal"><span class="pre">class</span></tt> : If the executable is a jar file, this is the class to run
for a JavaTM program</li>
<li><tt class="docutils literal"><span class="pre">type</span></tt> : <tt class="docutils literal"><span class="pre">bin</span></tt> or <tt class="docutils literal"><span class="pre">jar</span></tt> (the default is <tt class="docutils literal"><span class="pre">bin</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">stage</span></tt> : specifies when to launch : <tt class="docutils literal"><span class="pre">postinstall</span></tt> is just after
the installation is done, <tt class="docutils literal"><span class="pre">never</span></tt> will never launch it (useful to set
the +x flag on Unix). <tt class="docutils literal"><span class="pre">uninstall</span></tt> will launch the executable when the
application is uninstalled. The executable is executed before any files
are deleted. <tt class="docutils literal"><span class="pre">never</span></tt> is the default value.</li>
<li><tt class="docutils literal"><span class="pre">failure</span></tt> : specifies what to do when an error occurs : <tt class="docutils literal"><span class="pre">abort</span></tt>
will abort the installation process, <tt class="docutils literal"><span class="pre">ask</span></tt> (default) will ask the user
what to do and <tt class="docutils literal"><span class="pre">warn</span></tt> will just tell the user that something is wrong</li>
<li><tt class="docutils literal"><span class="pre">os</span></tt>: specifies the operating system, works like for <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">keep</span></tt> : specifies whether the file will be kept after execution.
The default is to delete the file after is has been executed. This can be
changed by specifying <tt class="docutils literal"><span class="pre">keep=&quot;true&quot;</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">condition</span></tt>: an id of a condition which has to be fullfilled to execute this file</li>
</ul>
<p>A <tt class="docutils literal"><span class="pre">&lt;args&gt;</span></tt> tag can also be specified in order to pass arguments to the
executable:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;arg&gt;</span></tt>: passes the argument specified in the <tt class="docutils literal"><span class="pre">value</span></tt> attribute.
Slashes are handled special (see attribute <tt class="docutils literal"><span class="pre">targetfile</span></tt> of tag
<tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt>.</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id33" id="os-make-a-file-os-dependent" name="os-make-a-file-os-dependent"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - make a file OS-dependent</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> tag can be used inside the <tt class="docutils literal"><span class="pre">&lt;file&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;fileset&gt;</span></tt>,
<tt class="docutils literal"><span class="pre">&lt;singlefile&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;parsable&gt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;executable&gt;</span></tt> tags to restrict it's
effect to a specific operating system family, architecture or version:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">family</span></tt>: <tt class="docutils literal"><span class="pre">unix,</span> <span class="pre">windows,</span> <span class="pre">mac</span></tt> to specify the operating system
family</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt>: the operating system name</li>
<li><tt class="docutils literal"><span class="pre">version</span></tt>: the operating system version</li>
<li><tt class="docutils literal"><span class="pre">arch</span></tt>: the operating system architecture (for instance the Linux
kernel can run on i386, sparc, and so on)</li>
</ul>
<p>Here's an example installation file :</p>
<pre class="literal-block">
&lt;packs&gt;
    &lt;!-- The core files --&gt;
    &lt;pack name=&quot;Core&quot; required=&quot;yes&quot;&gt;
        &lt;description&gt;The IzPack core files.&lt;/description&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;bin&quot;/&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;lib&quot;/&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;legal&quot;/&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;Readme.txt&quot;/&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;Versions.txt&quot;/&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;Thanks.txt&quot;/&gt;
        &lt;parsable targetfile=&quot;$INSTALL_PATH/bin/izpack-fe&quot;/&gt;
        &lt;parsable targetfile=&quot;$INSTALL_PATH/bin/izpack-
        fe.bat&quot;/&gt;
        &lt;parsable targetfile=&quot;$INSTALL_PATH/bin/compile&quot;/&gt;
        &lt;parsable
        targetfile=&quot;$INSTALL_PATH/bin/compile.bat&quot;/&gt;
        &lt;executable targetfile=&quot;$INSTALL_PATH/bin/compile&quot;
        stage=&quot;never&quot;/&gt;
        &lt;executable targetfile=&quot;$INSTALL_PATH/bin/izpack-fe&quot;
        stage=&quot;never&quot;/&gt;
    &lt;/pack&gt;

    &lt;!-- The documentation (1 directory) --&gt;
    &lt;pack name=&quot;Documentation&quot; required=&quot;no&quot;&gt;
        &lt;description&gt;The IzPack documentation (HTML and
        PDF).&lt;/description&gt;
        &lt;file targetdir=&quot;$INSTALL_PATH&quot; src=&quot;doc&quot;/&gt;
    &lt;/pack&gt;
&lt;/packs&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id34" id="the-native-element-native" name="the-native-element-native">The Native Element <tt class="docutils literal"><span class="pre">&lt;native&gt;</span></tt></a></h2>
<p>Use this if you want to use a feature that requires a native library. The
native libraries are placed under <tt class="docutils literal"><span class="pre">bin/native/..</span></tt>. There are 2 kinds of
native libraries : the iZPACK libraries and the third-party ones. The IzPack
libraries are located at <tt class="docutils literal"><span class="pre">bin/native/izpack</span></tt>, you can place your own
libraries at `` bin/native/3rdparty``. It is possible to place a native
library also into the uninstaller. It is useable from CustomActions.
If one or more are referenced for it, the needed support classes are
automatically placed into the uninstaller. To place it only on operating
systems for which they are build, it is possible to define an OS restriction.
This restriction will only be performed for the uninstaller. The markup takes
the following attributes :</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">type</span></tt> : <tt class="docutils literal"><span class="pre">izpack</span></tt> or <tt class="docutils literal"><span class="pre">3rdparty</span></tt></li>
<li><tt class="docutils literal"><span class="pre">name</span></tt> : the library filename</li>
<li><tt class="docutils literal"><span class="pre">stage</span></tt>: stage where to use the library (install|uninstall|both)</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id35" id="os-make-a-library-os-dependent" name="os-make-a-library-os-dependent"><tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> - make a library OS-dependent</a></h2>
<p>The <tt class="docutils literal"><span class="pre">&lt;os&gt;</span></tt> tag can be used to restrict the inclusion into the uninstaller
to a specific operating system family, architecture or version. The inclusion
into the installer will be always done.</p>
<p>Here's a sample :</p>
<pre class="literal-block">
&lt;native type=&quot;izpack&quot; name=&quot;ShellLink.dll&quot;/&gt;
</pre>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id36" id="the-jar-merging-element-jar" name="the-jar-merging-element-jar">The Jar Merging Element <tt class="docutils literal"><span class="pre">&lt;jar&gt;</span></tt></a></h2>
<p>If you adapt iZPACK for your own needs, you might need to merge the content
of another jar file into the jar installer. For instance, this could be a
library that you need to merge. The <tt class="docutils literal"><span class="pre">&lt;jar&gt;</span></tt> markup allows you to merge the
raw content of another jar file into the installer and the uninstaller. It is
necessary that the paths in the jars are unique because only the contained
files of the jar are added to the installer jar, not the jar file self. The
attributes are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">src</span></tt> : the path at compile time</li>
<li><tt class="docutils literal"><span class="pre">stage</span></tt>: stage where to use the contents of the additional jar file
(install|uninstall|both)</li>
</ul>
<p>A sample :</p>
<pre class="literal-block">
&lt;jar src=&quot;../nicelibrary.jar&quot;/&gt;
</pre>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id37" id="xinclude-style-constructs" name="xinclude-style-constructs">XInclude-style constructs</a></h1>
<p>The xinclude element is used to include xml or text documents in your configuration files.</p>
<p>The xinclude element can be used anywhere in pretty much any of the xml files used by IzPack. It is based on the XInclude recomendation produced by the W3C (<a class="reference" href="http://www.w3.org/TR/xinclude/">http://www.w3.org/TR/xinclude/</a>) and should be able to be used as decribed in that document. Note that as namespaces are not supported in IzPack the elements specified by the w3c have been prefixed with 'x' so 'xsi:include' becomes 'xinclude' and 'xsi:fallback' becomes 'xfallback'.</p>
<p>The xinclude element has the following attributes:</p>
<dl class="docutils">
<dt>href</dt>
<dd>The location of the file to include. If this is a relative path (e.g. href='../bob.xml') then the file is resolved relative to the document that includes the xinclude element. The href element can be a remote url (e.g. href='<a class="reference" href="http://example.com/file.txt">http://example.com/file.txt</a>') but this is not recommended. The href attribute can also be ommitted however as xpointers are not currently supported this has no meaning.</dd>
<dt>parse</dt>
<dd>Indicates that the included file should be treated as xml, forcing the included file to be parsed (which results in all xinclude elements in the included file to also be included), or as text which includes the specified file as a text node. It can have a value of 'xml' or 'text' and defaults to 'xml' if ommitted</dd>
<dt>xpointer</dt>
<dd>This element is not supported</dd>
<dt>encoding</dt>
<dd>This is used when the parse attribute is 'text' to specify the character encoding of the included text document. It has no effect if parse is 'xml'</dd>
<dt>accept</dt>
<dd>Used if the href attribute specifies a url accessible via HTTP. The value of this attribute will be added as the accpet header on the HTTP request.</dd>
</dl>
<div class="section">
<h2><a class="toc-backref" href="#id38" id="the-xfallback-element" name="the-xfallback-element">The xfallback element</a></h2>
<p>The xfallback element is used to provide a fallback if the xinclude element fails. It can be empty or can contain a CDATA section containing valid xml (no document fragments allowed). If it is empty then a failure to include the specified document is supressed. If it contains a CDATA section then a failure to include the specified document causes the xml specified in the CDATA is parsed (evaluating nested xinclude elements) and inserted into the document in its place.</p>
<p>For example the following use of xinclude</p>
<pre class="literal-block">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot; ?&gt;
&lt;installation version=&quot;1.0&quot; xmlns:xi=&quot;http://www.izforge.com/izpack/include&quot;&gt;
    &lt;xinclude href=&quot;does-not-exist.xml&quot;&gt;
        &lt;xfallback&gt;
            &lt;![CDATA[&lt;bbb&gt;hello&lt;/bbb&gt;]]&gt;
        &lt;/xfallback&gt;
    &lt;/xinclude&gt;
&lt;/installation&gt;
</pre>
<p>will result in</p>
<pre class="literal-block">
&lt;installation version=&quot;1.0&quot; xmlns:xi=&quot;http://www.izforge.com/izpack/include&quot;&gt;
    &lt;bbb&gt;hello&lt;/bbb&gt;]]&gt;
&lt;/installation&gt;
</pre>
<p>if the file 'does-not-exist.xml' does indeed not exist.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id39" id="the-xfragment-element" name="the-xfragment-element">The xfragment element</a></h2>
<p>The xfragment element allows document fragments (xml documents without a single top level element) to be included. Simply use the xfragment as the top level element in the included document. It will be removed when the document is included.</p>
<p>e.g. If I want to use xinclude to include a file containing the following fragments:</p>
<pre class="literal-block">
&lt;ffff&gt;
    &lt;gggg&gt;hello&lt;/gggg&gt;
&lt;/ffff&gt;
&lt;hhhh&gt;
    &lt;iiii&gt;there&lt;/iiii&gt;
&lt;/hhhh&gt;
</pre>
<p>I could use the xfragment element to enable it</p>
<pre class="literal-block">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; standalone=&quot;yes&quot; ?&gt;
&lt;xfragment&gt;
    &lt;ffff&gt;
        &lt;gggg&gt;hello&lt;/gggg&gt;
    &lt;/ffff&gt;
    &lt;hhhh&gt;
        &lt;iiii&gt;there&lt;/iiii&gt;
    &lt;/hhhh&gt;
&lt;/xfragment&gt;
</pre>
<p><a class="reference" href="index.html">Go back to the documentation index</a></p>
</div>
</div>
</div>
</body>
</html>
