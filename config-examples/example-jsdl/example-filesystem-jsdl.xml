<?xml version="1.0" encoding="UTF-8"?>
<jsdl:JobDefinition xmlns="http://www.example.org/"
	xmlns:jsdl="http://schemas.ggf.org/jsdl/2005/11/jsdl"
	xmlns:jsdl-posix="http://schemas.ggf.org/jsdl/2005/11/jsdl-posix"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	
	<jsdl:JobDescription>
		<jsdl:JobIdentification>
			<jsdl:JobName>My adder invocation</jsdl:JobName>
			<jsdl:JobAnnotation>MarksBigJob</jsdl:JobAnnotation>
			<jsdl:Description>A simple, example invocation to run an executable
				which takes as input two files, each with a string integer, add
				the integer values from those two files, and output the sum into
				a third file.
			</jsdl:Description>
		</jsdl:JobIdentification>

		<jsdl:Resources>
			<jsdl:FileSystem name="SCRATCH"/>
		</jsdl:Resources>
		
		<jsdl:Application>
			<jsdl:ApplicationName>adder</jsdl:ApplicationName>
			<jsdl-posix:POSIXApplication>
				<jsdl-posix:Environment name="MORGAN"
					filesystemName="SCRATCH">MyEnvFile.dat</jsdl-posix:Environment>
				<jsdl-posix:Executable>
					adderfs.sh
				</jsdl-posix:Executable>
				<jsdl-posix:Output>stdout</jsdl-posix:Output>
				<jsdl-posix:Argument>seven.dat</jsdl-posix:Argument>
				<jsdl-posix:Argument>fourty-two.dat</jsdl-posix:Argument>
				<jsdl-posix:Argument>sum.dat</jsdl-posix:Argument>
				<jsdl-posix:Argument>1</jsdl-posix:Argument>
				<jsdl-posix:Argument
					filesystemName="SCRATCH">MyFile.dat</jsdl-posix:Argument>
			</jsdl-posix:POSIXApplication>
		</jsdl:Application>

		<jsdl:DataStaging>
			<jsdl:FileName>Mark.zip</jsdl:FileName>
			<jsdl:FilesystemName>SCRATCH</jsdl:FilesystemName>
			<jsdl:CreationFlag>dontOverwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>false</jsdl:DeleteOnTermination>
			<jsdl:Source>
				<jsdl:URI>http://www.cs.virginia.edu/~mmm2a/test/Mark.zip</jsdl:URI>
			</jsdl:Source>
		</jsdl:DataStaging>

		<jsdl:DataStaging>
			<jsdl:FileName>adderfs.sh</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Source>
				<jsdl:URI>http://www.cs.virginia.edu/~mmm2a/test/adderfs.sh</jsdl:URI>
			</jsdl:Source>
		</jsdl:DataStaging>
		
		<jsdl:DataStaging>
			<jsdl:FileName>seven.dat</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Source>
				<jsdl:URI>http://www.cs.virginia.edu/~mmm2a/test/seven.dat</jsdl:URI>
			</jsdl:Source>
		</jsdl:DataStaging>
		
		<jsdl:DataStaging>
			<jsdl:FileName>fourty-two.dat</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Source>
				<jsdl:URI>http://www.cs.virginia.edu/~mmm2a/test/fourty-two.dat</jsdl:URI>
			</jsdl:Source>
		</jsdl:DataStaging>

<!--	
		<jsdl:DataStaging>
			<jsdl:FileName>sum.dat</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Target>
				<jsdl:URI>ftp://mmm2a:!!mmm2a@warrenton.cs.virginia.edu:8021/sum.dat</jsdl:URI>
			</jsdl:Target>
		</jsdl:DataStaging>
-->

		<jsdl:DataStaging>
			<jsdl:FileName>sum.dat</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Target>
				<jsdl:URI>rns:sum.dat</jsdl:URI>
			</jsdl:Target>
		</jsdl:DataStaging>

		<jsdl:DataStaging>
			<jsdl:FileName>stdout</jsdl:FileName>
			<jsdl:CreationFlag>overwrite</jsdl:CreationFlag>
			<jsdl:DeleteOnTermination>true</jsdl:DeleteOnTermination>
			<jsdl:Target>
				<jsdl:URI>mailto:mmm2a@cs.virginia.edu?subject=jobOutput&amp;X-AttachmentFilename=stdout.txt</jsdl:URI>
			</jsdl:Target>
		</jsdl:DataStaging>
	</jsdl:JobDescription>
	
</jsdl:JobDefinition>
