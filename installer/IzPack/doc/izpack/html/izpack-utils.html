<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>IzPack utilities</title>
<link rel="stylesheet" href="izpack.css" type="text/css" />
</head>
<body>
<div class="document" id="izpack-utilities">
<h1 class="title">IzPack utilities</h1>
<p><a class="reference" href="index.html">Go back to the documentation index</a></p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#windows-executable-wrapper-izpack2exe" id="id5" name="id5">Windows executable wrapper (izpack2exe)</a><ul>
<li><a class="reference" href="#description" id="id6" name="id6">Description</a></li>
<li><a class="reference" href="#requirements" id="id7" name="id7">Requirements</a></li>
<li><a class="reference" href="#usage" id="id8" name="id8">Usage</a></li>
</ul>
</li>
<li><a class="reference" href="#mac-os-x-application-bundle-wrapper-izpack2app" id="id9" name="id9">Mac OS X Application bundle wrapper (izpack2app)</a><ul>
<li><a class="reference" href="#id1" id="id10" name="id10">Description</a></li>
<li><a class="reference" href="#id2" id="id11" name="id11">Requirements</a></li>
<li><a class="reference" href="#id3" id="id12" name="id12">Usage</a></li>
</ul>
</li>
</ul>
</div>
<p>The IzPack project includes a set of utilities that you may find useful.</p>
<p>These projects live outside the regular IzPack installer Subversion repository. You can access it from  <a class="reference" href="http://svn.berlios.de/svnroot/repos/izpack/izpack-utils/">http://svn.berlios.de/svnroot/repos/izpack/izpack-utils/</a> instead of  <a class="reference" href="http://svn.berlios.de/svnroot/repos/izpack/izpack-src/">http://svn.berlios.de/svnroot/repos/izpack/izpack-src/</a> for IzPack itself.</p>
<p>They will be shipped in the official IzPack releases under their own pack.</p>
<div class="section">
<h1><a class="toc-backref" href="#id5" id="windows-executable-wrapper-izpack2exe" name="windows-executable-wrapper-izpack2exe">Windows executable wrapper (izpack2exe)</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id6" id="description" name="description">Description</a></h2>
<p>The 7-Zip project (see <a class="reference" href="http://www.7-zip.org/">http://www.7-zip.org/</a>) provides a so-called SFX for installers, i.e., an image that can be use to create self-extracting Windows executables. Once its content has been extracted, such a self-extracting executable can launch an executable or a file. In the later case, it is assumed that there exists an association between a file extension and a software component.</p>
<p>7-Zip SFX for installers works as follows:</p>
<ol class="arabic simple">
<li>an executable image is provided</li>
<li>a configuration file has to be written, specifying among other things the executable or the file to be launched after the extraction phase</li>
<li>a 7-Zip archive containing the files (including the executable of file to be launched)</li>
<li>these files simply need to be concatenated to form a SFX Windows executable.</li>
</ol>
<p>The IzPack Windows executable wrapper takes an IzPack-generated installer JAR file, and wraps it inside a Windows SFX executable. This has several advantages, among these two ones:</p>
<ol class="arabic simple">
<li>some users may find it strange to have a JAR and not an executable</li>
<li>by naming it with <em>setup</em> or <em>install</em>, Windows VISTA will perform a rights elevation whereas IzPack cannot enforce it when launched as a regular JAR.</li>
</ol>
<p>And of course, you can ship a JAR and a Windows executable from the very same IzPack installer descriptor!</p>
<p>We have customized the SFX image from the 7-Zip project as follows:</p>
<ul class="simple">
<li>we have changed the icon</li>
<li>we have customized some strings to mention that this is a customized version.</li>
</ul>
<p>While the rest of the work is licensed under the Apache License version 2, the sole SFX module is licensed under the Lesser GNU General Public License version 2 or later as required by the 7-Zip project.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id7" id="requirements" name="requirements">Requirements</a></h2>
<p><strong>izpack2exe</strong> is written in Python. It depends on 7-Zip and optionnaly UPX, a tool that can compresses executables.</p>
<p>In official IzPack releases, we provide this tool <em>batteries-included</em> on Windows, i.e., we will provide:</p>
<ul class="simple">
<li><strong>izpack2exe</strong> as a Windows executable, so that you don't need to install Python, and</li>
<li>7-Zip and UPX executables, so you don't have to download them.</li>
</ul>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id8" id="usage" name="usage">Usage</a></h2>
<p>The usage is quite easy:</p>
<pre class="literal-block">
usage: izpack2exe.py [options]

options:
  -h, --help       show this help message and exit
  --file=FILE      The installer JAR file
  --output=OUTPUT  The executable file
  --with-7z=P7Z    Path to the 7-Zip executable
  --with-upx=UPX   Path to the UPX executable
  --no-upx         Do not use UPX to further compress the output
</pre>
<p>A typical wrapping will be done like:</p>
<pre class="literal-block">
izpack2exe --file=installer.jar
</pre>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id9" id="mac-os-x-application-bundle-wrapper-izpack2app" name="mac-os-x-application-bundle-wrapper-izpack2app">Mac OS X Application bundle wrapper (izpack2app)</a></h1>
<div class="section">
<h2><a class="toc-backref" href="#id10" id="id1" name="id1">Description</a></h2>
<p><strong>izpack2app</strong> is the Mac OS X brother of <strong>izpack2exe</strong>. It bundles a JAR installer inside an application bundle, so that your installer will look like a regular Mac OS X application.</p>
<p>To do that, we started from the Mac OS X <em>Jar Bundler</em> tool that you can find under <em>/Developer/Java</em>. We bundled a Jar installer, then stripped it. Indeed, an application bundle is nothing else but a structured set of files and directories.</p>
<p>What <strong>izpack2app</strong> does is simply:</p>
<ol class="arabic simple">
<li>copy the bundle files structure,</li>
<li>put your Jar at the good place, and</li>
<li>edit the <em>Info.plist</em> to reference your Jar.</li>
</ol>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id11" id="id2" name="id2">Requirements</a></h2>
<p><strong>izpack2app</strong> is written in Python. It does not require any third-party module to work. Python is bundled with Mac OS X and is mainstream on Linux and other Unix variants. We ship it as a Windows executable in the official IzPack releases (and of course also as a Python application!).</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id12" id="id3" name="id3">Usage</a></h2>
<p>The usage is straightforward:</p>
<pre class="literal-block">
izpack2app.py installer.jar Installer.app
</pre>
<p>wraps <em>installer.jar</em> as <em>Installer.app</em></p>
<p><a class="reference" href="index.html">Go back to the documentation index</a></p>
</div>
</div>
</div>
</body>
</html>
